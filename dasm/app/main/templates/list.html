<ion-view view-title="Domains">
  <ion-content>
    <ion-refresher
      pulling-text="Pull to refresh..."
      on-refresh="list.doRefresh()">
    </ion-refresher>

    <div class="card" ng-if="list.error">
      <div class="item item-text-wrap" ng-if="'bad_token' === list.error.message">
        Bad token
      </div>
      <div class="item item-text-wrap" ng-if="'bad_token' !== list.error.message">
        {{ list.error.message }}
      </div>
      <button class="button button-block" ui-sref="signup" ng-if="'bad_token' === list.error.message">Change token</button>
    </div>

    <!-- content goes here -->
    <ion-list>
      <ion-item
        ng-repeat="domain in list.domains"
        class="item-remove-animate item-avatar item-icon-right"
        type="item-text-wrap"
        ui-sref="main.listDetail">
        <img ng-src="{{ domain.logo_url }}" ng-if="domain.logo_url">
        <h2>{{ domain.name }}</h2>
        <p>
          <span class="comma" ng-repeat="alias in domain.aliases">{{ alias | idn }}</span>
        </p>
        <i class="icon ion-chevron-right icon-accessory"></i>
      </ion-item>
    </ion-list>

  </ion-content>
</ion-view>
