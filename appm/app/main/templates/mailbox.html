<ion-view view-title="{{ mailbox.login }}">
  <ion-content class="ionContent">
    <ion-refresher
      pulling-text="Pull to refresh..."
      on-refresh="mailbox.doRefresh()">
    </ion-refresher>
    <ion-list>
      <ion-item class="mailboxHeader" style="height:5rem;">
        <p class="mailboxSubHeader">
          {{mailbox.account.prefix}}
        </p>
      </ion-item>

      <ion-item class="item-icon-right mailboxHeader" style="height:4.8rem;" ng-if="mailbox.isOwner && !mailbox.realyBlocked" ng-click="mailbox.getOAuthToken(mailbox.account)">
        <i class="icon ion-chevron-right icon-accessory" style="font-size:1.5rem; color:white;" ></i>
        <p class="mailboxHeaderText" >
          Просмотреть почту
        </p>
        <p class="mailboxHeaderCounters">
          Новых {{mailbox.account.counters.new}} из {{mailbox.account.counters.unread}}
        </p>
      </ion-item>

      <ion-item class="mailItem item-icon-right" ng-click="mailbox.showAliases(mailbox.account)">
        <i class="icon ion-chevron-right icon-accessory"></i>
        <p class="mailItemText">Управление</p>
      </ion-item>

      <ion-item class="mailItem item item-toggle">
        <p class="mailItemText">Заблокировать</p>
        <label class="toggle toggle-assertive">
          <input type="checkbox" ng-model="mailbox.account.blocked">
          <div class="track">
            <div class="handle"></div>
          </div>
        </label>
      </ion-item>

      <ion-item class="mailItem item item-input item-stacked-label" style="height:4.5rem">
        <span class="input-label inputHeader">Фамилия</span>
        <input class="inputText" type="text" ng-model="mailbox.account.fname">
      </ion-item>

      <ion-item class="mailItem item item-input item-stacked-label" style="height:4.5rem">
        <span class="input-label inputHeader">Имя</span>
        <input class="inputText" type="text" ng-model="mailbox.account.iname">
      </ion-item>

      <ion-item class="mailItem item item-input item-stacked-label" style="height:4.5rem">
        <span class="input-label inputHeader">Пароль</span>
        <input class="inputText" type="password" ng-model="mailbox.account.password">
      </ion-item>

      <ion-item style="z-index:0;" class="mailItem item-icon-right">
      </ion-item>

      <div class="row" style="padding: 0px; margin-top: -1rem; z-index:2">
        <div class="col" style="display:flex;justify-content:flex-end;">
          <div class="mailboxSaveBtn button" ng-click="mailbox.saveMailbox()">
            <p class="mailboxSaveBtnText">Сохранить</p>
          </div>
        </div>

        <div class="col">
          <div class="mailboxCancelButton button" ng-click="mailbox.goBack()">
            <p class="mailboxSaveBtnText">Отмена</p>
          </div>
        </div>
      </div>
      <div class="padding">
        <button ng-click="mailbox.deleteMailbox()" class="button button-clear button-assertive button-full">
          Удалить ящик
        </button>
      </div>
    </ion-list>

  </ion-content>
</ion-view>
